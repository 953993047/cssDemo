<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>懒加载</title>
    <style>
    .container {
        width: 800px;
        margin: 0 auto;
        /*			column-count: 2;
			column-width: 180px;*/
    }

    .container img {
        width: 100%;
        vertical-align: middle;
        height:400px;
        border:none;
         /* 取消图片默认间距 */

    }
    </style>
</head>

<body>
    <div class="container">
        <img src="" data-origin="https://wx3.sinaimg.cn/mw690/6a2afec3ly1fz33wbd4xmj24002o0u0y.jpg" alt="">
        <img src="" data-origin="https://wxt.sinaimg.cn/thumb300/6a2afec3gy1fwvoays5odj22c0340000.jpg?tags=%5B%5D" alt="">
        <img src="" data-origin="https://wx2.sinaimg.cn/mw690/6a2afec3ly1fvo1rrqctlj21oh2ipb2c.jpg" alt="">
        <img src="" data-origin="https://wx3.sinaimg.cn/mw690/6a2afec3ly1fvo1rmjaiij218g0xce82.jpg" alt="">
        <img src="" data-origin="https://wx1.sinaimg.cn/mw690/6a2afec3ly1fvo1r6tcnuj20rs113b2a.jpg" alt="">
        <img src="" data-origin="https://wx3.sinaimg.cn/mw690/6a2afec3ly1fvo1sapswqj22ip1ohhdw.jpg" alt="">
        <img src="" data-origin="https://wxt.sinaimg.cn/thumb300/6a2afec3gy1fwvoays5odj22c0340000.jpg?tags=%5B%5D" alt="">
        <img src="" data-origin="https://wx1.sinaimg.cn/mw690/6a2afec3ly1g0c820owc1j23402c0kjm.jpg" alt="">
        <img src="" data-origin="https://wx2.sinaimg.cn/mw690/6a2afec3ly1g0c820x6orj215o0v97fp.jpg" alt="">
        <img src="" data-origin="https://wx2.sinaimg.cn/mw690/6a2afec3ly1fyy601kwqkj20u010atga.jpg" alt="">
        <img src="" data-origin="https://wx3.sinaimg.cn/mw690/6a2afec3ly1fz33wbd4xmj24002o0u0y.jpg" alt="">
    </div>
    <script>
    init();

    function init() {
        // 加载首屏图片
        lazyload();
    }
    window.onscroll = function() {
        lazyload();
    };

    function lazyload() {
        var images = document.getElementsByTagName('img');
        for (var i = 0; i < images.length; i++) {
        //    console.log(document.documentElement.clientHeight);
            if(images[i].getBoundingClientRect().top>=-images[i].clientHeight&&images[i].getBoundingClientRect().top<=document.documentElement.clientHeight) {
                imageLoaded(images[i], images[i].getAttribute('data-origin'));
                console.log(i);
            }
        }
    }
    function imageLoaded(obj, src) {
        var img = new Image();
        img.onload = function() {
            obj.src = src;
        };
        img.src = src;
    }
    </script>
</body>

</html>